<div class="container pb-2">
  <h1 class="mt-3 mb-4 text-center">üìÇ Category List</h1>

  <div class="d-flex justify-content-between mb-3">

    <div class="d-flex">
      <input type="text" class="form-control me-3" name="queryText" id="queryText" #queryText>
      <button type="button" class="btn btn-warning ms-3" (click)="onSearch(queryText.value)">Search</button>
    </div>

    <a class="btn btn-primary shadow-sm" routerLink="/admin/categories/add">
      ‚ûï Add Category
    </a>
  </div>

  @if (categories$ | async; as categories) {
  <ng-container>
      <table class="table table-responsive table-striped table-hover table-bordered align-middle shadow-sm">
        <thead class="table-dark text-center">
          <tr>
            <th style="width: 10%">Id</th>
            <th style="width: 30%">Name 
            <span>

              <span>
                <button type="button" class="btn btn-light me-2" (click)="sort('url','asc')">
                  <i class="bi bi-arrow-up"></i>
                </button>
              </span>

              <span>
                <button type="button" class="btn btn-light" (click)="sort('url','desc')">
                  <i class="bi bi-arrow-down"></i>
                </button>
              </span>

            </span> 
          </th>
            <th style="width: 40%">
              Url Handle
              <span>

                <span>
                  <button type="button" class="btn btn-light me-2" (click)="sort('name','asc')">
                    <i class="bi bi-arrow-up"></i>
                  </button>
                </span>
  
                <span>
                  <button type="button" class="btn btn-light" (click)="sort('name','desc')">
                    <i class="bi bi-arrow-down"></i>
                  </button>
                </span>
  
              </span> 
            </th>
            <th style="width: 20%">Action</th>
          </tr>
        </thead>
        <tbody>
          @for (category of categories; track $index) {
          <tr>
            <td class="text-center fw-bold">{{ category.id }}</td>
            <td>{{ category.name }}</td>
            <td class="text-muted">{{ category.urlHandle }}</td>
            <td class="text-center">
              <a
                class="btn btn-sm btn-outline-secondary me-2"
                [routerLink]="['/admin/categories', category.id]"
              >
                ‚úèÔ∏è Edit
              </a>
            </td>
          </tr>
          }
        </tbody>
      </table>
      <nav aria-label="Page navigation example">
        <ul class="pagination">
          <li class="page-item"><a class="page-link" (click)="getPrevPage()">Previous</a></li>
          @for (item of list; track $index) {
            <li class="page-item">
              <a class="page-link" (click)="getPage($index + 1)">{{$index + 1}}</a>
            </li>
          }
          <li class="page-item"><a class="page-link" (click)="getNextPage()">Next</a></li>
        </ul>
      </nav>
  </ng-container>
  }
</div>
